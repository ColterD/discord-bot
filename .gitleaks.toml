# Gitleaks configuration
# https://github.com/gitleaks/gitleaks

[extend]
useDefault = true

# Ignore all test files completely
[allowlist]
description = "Global allowlist"
paths = [
    '''tests/''',
    '''\.test\.ts$''',
    '''\.test\.js$''',
    '''\.spec\.ts$''',
    '''\.spec\.js$''',
    '''\.env\.example$''',
]

# Specific fingerprints to ignore (from gitleaks output)
commits = []
stopwords = [
    "MTE2NTI4NDgzNjE3ODQyMjg4OA",
    "MTIzNDU2Nzg5MDEyMzQ1Njc4OTAx",
    "_test_token_not_real_do_not_use_",
]

# Ignore placeholder tokens in documentation
[[allowlists]]
description = "Ignore placeholder tokens"
regexTarget = "match"
regexes = [
    '''your_.*_here''',
    '''your-.*-here''',
    '''<your.*>''',
    '''EXAMPLE_.*''',
]

# Ignore npm package registry URLs that might look like tokens
[[allowlists]]
description = "Ignore npm registry URLs"
regexTarget = "match"
regexes = [
    '''registry\.npmjs\.org''',
]

# Ignore fake Discord tokens in test files
[[allowlists]]
description = "Ignore test Discord token patterns"
paths = [
    '''tests/integration/orchestrator\.test\.ts''',
    '''tests/integration/security\.test\.ts''',
]
regexTarget = "match"
regexes = [
    '''MTE2NTI4NDgzNjE3ODQyMjg4OA\..*''',
    '''Here's a token:.*''',
    '''FAKE_TOKEN.*''',
    '''TEST_ONLY_NOT_REAL''',
]
